<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        SQL基础学习 - Vicczyq | 记录学习和生活
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>

    









<meta name="generator" content="Hexo 7.1.0"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 好好生活，保持热爱，无惧无畏，奔赴山海 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar radius">
            <img src="//q2.qlogo.cn/headimg_dl?dst_uin=1740674168&amp;spec=140" />
        </div>
        <div class="name">
            <i>Vicczyq | 长木乔</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>收藏</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2"><span class="toc-text">基础查询</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%81%E8%A1%A8%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">数据库、表的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-text">数据库的创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">删除数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-text">表的创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-text">表的修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%85%83%E7%BB%84"><span class="toc-text">添加元组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E4%B8%AD%E6%95%B0%E6%8D%AE"><span class="toc-text">修改表中数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%85%83%E7%BB%84"><span class="toc-text">删除元组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#not-null"><span class="toc-text">not null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#primary-key%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F"><span class="toc-text">primary key主键约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#foreign-key%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F"><span class="toc-text">foreign key外键约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#check-%E6%9D%A1%E4%BB%B6%E7%BA%A6%E6%9D%9F"><span class="toc-text">check 条件约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#default%E9%BB%98%E8%AE%A4%E7%BA%A6%E6%9D%9F"><span class="toc-text">default默认约束</span></a></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> 好好生活，保持热爱，无惧无畏，奔赴山海 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        SQL基础学习
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2024-02-05 19:37:15</span></span>
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h1 id="基础查询"><a href="#基础查询" class="headerlink" title="基础查询"></a>基础查询</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">use SCT <span class="comment">--SCT数据库</span></span><br><span class="line"><span class="keyword">select</span> C# <span class="keyword">from</span> sc <span class="comment">--从sc表中查询C#</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> C# <span class="keyword">from</span> sc <span class="comment">--从sc表中查询C#并且过滤掉重复行</span></span><br><span class="line"><span class="keyword">select</span> top <span class="number">3</span> <span class="operator">*</span> <span class="keyword">from</span> sc <span class="comment">--从sc表中查询前三行的数据</span></span><br><span class="line"><span class="keyword">select</span> top <span class="number">50</span> <span class="keyword">percent</span> <span class="operator">*</span> <span class="keyword">from</span> sc <span class="comment">--从sc表中查询前50%的数据</span></span><br><span class="line"><span class="keyword">select</span> s# <span class="keyword">as</span> 学号,score <span class="keyword">as</span> 分数 <span class="keyword">from</span> sc <span class="comment">--从sc表查询s#作为“学号”输出，score作为“分数”输出</span></span><br><span class="line"><span class="keyword">select</span> s#,C#,Score<span class="operator">*</span><span class="number">1.50</span> <span class="keyword">from</span> sc <span class="comment">--从sc中查询s#,c#，和score的1.5倍，注意此时score没有列名</span></span><br><span class="line"><span class="keyword">select</span> s#,C#,Score150 <span class="operator">=</span> score <span class="operator">*</span><span class="number">1.50</span> <span class="keyword">from</span> sc <span class="comment">--此时score*1.50的列名为Score150</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sc <span class="keyword">where</span> score<span class="operator">&gt;=</span><span class="number">60</span> <span class="comment">--查询sc中score&gt;=60的元组</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sc <span class="keyword">where</span> score<span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">and</span> s#<span class="operator">=</span><span class="string">&#x27;123&#x27;</span> <span class="comment">--and查询sc中score&gt;=60并且s#为123的元组</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sc <span class="keyword">where</span> score<span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">or</span> score<span class="operator">&lt;=</span><span class="number">20</span> <span class="comment">--or查询</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sc <span class="keyword">where</span> score <span class="keyword">between</span> <span class="number">20</span> <span class="keyword">and</span> <span class="number">60</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sc <span class="keyword">where</span> score<span class="operator">&gt;=</span><span class="number">20</span> <span class="keyword">and</span> score<span class="operator">&lt;=</span><span class="number">60</span> <span class="comment">--等效</span></span><br><span class="line"><span class="keyword">select</span> Cname,Chours <span class="keyword">from</span> sc <span class="keyword">where</span> Cname <span class="keyword">in</span>(<span class="string">&#x27;数据库&#x27;</span>,<span class="string">&#x27;C语言&#x27;</span>)</span><br><span class="line"><span class="keyword">select</span> Cname,Chours <span class="keyword">from</span> sc <span class="keyword">where</span> Cname <span class="keyword">not</span> <span class="keyword">in</span>(<span class="string">&#x27;数据库&#x27;</span>,<span class="string">&#x27;C语言&#x27;</span>)</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sc <span class="keyword">where</span> sname <span class="keyword">like</span> <span class="string">&#x27;张%&#x27;</span> </span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sc <span class="keyword">where</span> sname <span class="keyword">not</span> <span class="keyword">like</span> <span class="string">&#x27;张%&#x27;</span> <span class="comment">--%任意长的任意字符,_任意单个字符，[]指定范围内的单个字符，如[a-f]或者[abfr]，[^]指定不在范围内的单个字符</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sc <span class="keyword">where</span> sname <span class="keyword">is</span> <span class="keyword">NULL</span> <span class="comment">--[not] is对空值判断</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sage) <span class="keyword">as</span> 平均年龄 <span class="keyword">from</span> student <span class="keyword">where</span> ssex <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span></span><br><span class="line">● <span class="built_in">avg</span>()：返回列的数据平均值</span><br><span class="line">● <span class="built_in">sum</span>()：返回列数据的和</span><br><span class="line">● <span class="built_in">max</span>()：返回列数据中的最大值</span><br><span class="line">● <span class="built_in">min</span>()：返回列数据中的最小值</span><br><span class="line">● <span class="built_in">count</span>()：返回数据的个数</span><br><span class="line">use SCT</span><br><span class="line"><span class="keyword">select</span> C#,<span class="built_in">avg</span>(score) <span class="keyword">from</span> SC</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> C#</span><br><span class="line"><span class="comment">--group by 后面的必须按照前面筛选的C#进行分组</span></span><br><span class="line"><span class="keyword">having</span> <span class="built_in">avg</span>(score)<span class="operator">&gt;=</span><span class="number">60</span></span><br><span class="line"><span class="comment">--对group by进行筛选</span></span><br><span class="line"><span class="keyword">SELECT</span> s#,sname </span><br><span class="line"><span class="keyword">FROM</span> student </span><br><span class="line"><span class="keyword">WHERE</span> ssex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> sname <span class="keyword">ASC</span> <span class="comment">--升序</span></span><br><span class="line"><span class="comment">--ORDER BY sname DESC 降序</span></span><br><span class="line"><span class="keyword">SELECT</span> student.sname, sc.c#, sc.score</span><br><span class="line"><span class="keyword">FROM</span> student <span class="keyword">INNER</span> <span class="keyword">JOIN</span> sc <span class="keyword">ON</span> student.s#<span class="operator">=</span>sc.s#</span><br><span class="line"></span><br><span class="line">也可用</span><br><span class="line"><span class="keyword">SELECT</span> sname, sc.c#, sc.score</span><br><span class="line"><span class="keyword">FROM</span> student,sc</span><br><span class="line"><span class="keyword">WHERE</span>  student.s#<span class="operator">=</span>sc.s#</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> subject</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> score <span class="comment">--left join表示subject全部输出，score取交集</span></span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span> score <span class="comment">--right join 表示score全部输出，subject取交集</span></span><br><span class="line"><span class="keyword">on</span> subject.id <span class="operator">=</span> score.id</span><br></pre></td></tr></table></figure>
<p><img src="/2024/02/05/SQL%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/1680141783646-9338980a-9e78-456d-a219-ad3215ccffcc.png" alt="img"><img src="/2024/02/05/SQL%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/1680141893719-2f9854d4-d7fa-4101-80fd-814543bb4399.png" alt="img"><img src="/2024/02/05/SQL%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/1680141908016-0e173a0d-1daf-4850-9c53-65792838d1ec.png" alt="img"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UNION</span> <span class="comment">--并</span></span><br><span class="line"><span class="keyword">EXCEPT</span> <span class="comment">--差</span></span><br><span class="line"><span class="keyword">INTERSECT</span> <span class="comment">--交</span></span><br></pre></td></tr></table></figure>
<h1 id="数据库、表的操作"><a href="#数据库、表的操作" class="headerlink" title="数据库、表的操作"></a>数据库、表的操作</h1><h3 id="数据库的创建"><a href="#数据库的创建" class="headerlink" title="数据库的创建"></a>数据库的创建</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database **DATABASE_NAME**</span><br></pre></td></tr></table></figure>
<h3 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop database **DATABASE_NAME**</span><br></pre></td></tr></table></figure>
<h3 id="表的创建"><a href="#表的创建" class="headerlink" title="表的创建"></a>表的创建</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> TABLE_NAME</span><br><span class="line">(</span><br><span class="line">  属性<span class="number">1</span> 数据类型,</span><br><span class="line">  属性<span class="number">2</span> 数据类型,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="表的修改"><a href="#表的修改" class="headerlink" title="表的修改"></a>表的修改</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> TABLE_NAME</span><br><span class="line">[</span><br><span class="line">  <span class="keyword">alter</span> <span class="keyword">column</span> 属性 数据类型 <span class="comment">--修改表属性的数据类型</span></span><br><span class="line">  <span class="keyword">add</span> 属性 数据类型 <span class="comment">--新增表属性</span></span><br><span class="line">  <span class="keyword">drop</span> <span class="keyword">column</span> 属性 <span class="comment">--删除表属性</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="添加元组"><a href="#添加元组" class="headerlink" title="添加元组"></a>添加元组</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into TABLE_NAME values(&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;)</span><br><span class="line">insert into TABLE_NAME(属性1,属性2,....) values(&#x27;&#x27;,&#x27;&#x27;,&#x27;&#x27;...)</span><br></pre></td></tr></table></figure>
<h3 id="修改表中数据"><a href="#修改表中数据" class="headerlink" title="修改表中数据"></a>修改表中数据</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名TABLE_NAME</span><br><span class="line">  <span class="keyword">set</span> ssex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span></span><br><span class="line">  <span class="keyword">where</span> sno <span class="operator">=</span> <span class="string">&#x27;10011&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="删除元组"><a href="#删除元组" class="headerlink" title="删除元组"></a>删除元组</h3><p>如果不加where则删除全部元组</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> 表名TABLENAME</span><br><span class="line">  	<span class="keyword">where</span> ssex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="not-null"><a href="#not-null" class="headerlink" title="not null"></a>not null</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE SCT</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> STUDENT</span><br><span class="line">( Sno   <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Sname   <span class="type">char</span>(<span class="number">10</span>), </span><br><span class="line">SFZ  <span class="type">char</span>(<span class="number">18</span>),</span><br><span class="line">Sage tinyint )</span><br><span class="line"><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span></span><br><span class="line">USE  SCT </span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> Sname <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span></span><br></pre></td></tr></table></figure>
<h3 id="primary-key主键约束"><a href="#primary-key主键约束" class="headerlink" title="primary key主键约束"></a><strong>primary key主键约束</strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">USE SCT</span><br><span class="line">  <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> SC</span><br><span class="line">  ( Sno   <span class="type">char</span>(<span class="number">7</span>) ,</span><br><span class="line">    Cno   <span class="type">char</span>(<span class="number">3</span>), </span><br><span class="line">    Score tinyint,</span><br><span class="line">    <span class="keyword">Primary</span> key (Sno,Cno)</span><br><span class="line">  ) </span><br><span class="line"><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span></span><br><span class="line">USE SCT</span><br><span class="line">  <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> STUDENT1</span><br><span class="line">	( Sno <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">primary</span> key，</span><br><span class="line">    Sname <span class="type">char</span>(<span class="number">10</span>), </span><br><span class="line">    SFZ <span class="type">char</span>(<span class="number">18</span>),</span><br><span class="line">	  Sage tinyint</span><br><span class="line">  ) </span><br><span class="line"><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span></span><br><span class="line">USE  SCT</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> STUDENT1</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">primary</span> key(sno) <span class="comment">--不指定约束名称</span></span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> pk1 <span class="keyword">primary</span> key(sno) <span class="comment">--指定约束名称</span></span><br><span class="line"><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span></span><br><span class="line">use sct</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> STUDENT1</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> pk1 <span class="comment">--删除pk1约束</span></span><br></pre></td></tr></table></figure>
<h3 id="foreign-key外键约束"><a href="#foreign-key外键约束" class="headerlink" title="foreign key外键约束"></a>foreign key外键约束</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE SCT</span><br><span class="line"><span class="keyword">CREATE</span>  <span class="keyword">TABLE</span>  SC</span><br><span class="line">( Sno <span class="type">char</span>(<span class="number">7</span>)  <span class="keyword">CONSTRAINT</span> sc_k <span class="keyword">foreign</span> key refernces student(sno),</span><br><span class="line"> Cno <span class="type">char</span>(<span class="number">3</span>), </span><br><span class="line"> Score tinyint	 ) </span><br><span class="line"><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span></span><br><span class="line">USE  SCT</span><br><span class="line"><span class="keyword">ALTER</span>  <span class="keyword">TABLE</span>  SC</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> SC3_K</span><br><span class="line"><span class="keyword">foreign</span> key(Cno) <span class="keyword">references</span> Course(Cno)</span><br></pre></td></tr></table></figure>
<p><img src="/2024/02/05/SQL%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/1680493907932-81eb8885-51a5-40cb-bdb0-61eaa798c6d9.png" alt="img"></p>
<p>注意：references指向的必须是<strong>主键</strong></p>
<h3 id="check-条件约束"><a href="#check-条件约束" class="headerlink" title="check 条件约束"></a>check 条件约束</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">USE SCT</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> STUDENT</span><br><span class="line">( Sno <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">PRIMARY</span> KEY，</span><br><span class="line">Sname <span class="type">char</span>(<span class="number">10</span>), </span><br><span class="line">SFZ  <span class="type">char</span>(<span class="number">18</span>) <span class="keyword">UNIQUE</span>,</span><br><span class="line">Sage tinyint <span class="keyword">CHECK</span>(Sage<span class="operator">&gt;=</span><span class="number">15</span> <span class="keyword">and</span> Sage<span class="operator">&lt;=</span><span class="number">40</span> ) )</span><br><span class="line"><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span></span><br><span class="line">USE  SCT</span><br><span class="line"><span class="keyword">ALTER</span>  <span class="keyword">TABLE</span>  student</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> St4_K</span><br><span class="line"><span class="keyword">CHECK</span>(Sage<span class="operator">&gt;=</span><span class="number">15</span> <span class="keyword">and</span> Sage<span class="operator">&lt;=</span><span class="number">40</span> )</span><br></pre></td></tr></table></figure>
<h3 id="default默认约束"><a href="#default默认约束" class="headerlink" title="default默认约束"></a>default默认约束</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE SCT</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> STUDENT</span><br><span class="line">( Sno   <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">Sname   <span class="type">char</span>(<span class="number">10</span>), </span><br><span class="line">Major <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">DEFAULT</span>‘电计’)</span><br><span class="line"><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span></span><br><span class="line">use SCT</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> STUDENT</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> pk1</span><br><span class="line">defalut <span class="string">&#x27;电计&#x27;</span> <span class="keyword">for</span> Major</span><br></pre></td></tr></table></figure>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    

<p id="hitokoto">加载中...</p>

<script>
    fetch('https://tenapi.cn/v2/yiyan')
        .then(response => response.text())
        .then(text => {
            document.getElementById('hitokoto').innerText = text;
        })
        .catch(error => {
            console.error('请求失败:', error);
        });
</script>
 <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
 </p>
</footer>




<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->






</html>
