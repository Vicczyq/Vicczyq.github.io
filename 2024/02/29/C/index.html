<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        C++ - Vicczyq | 记录学习和生活
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>

    









<meta name="generator" content="Hexo 7.1.0"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 好好生活，保持热爱，无惧无畏，奔赴山海 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar radius">
            <img src="//q2.qlogo.cn/headimg_dl?dst_uin=1740674168&amp;spec=140" />
        </div>
        <div class="name">
            <i>Vicczyq | 长木乔</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>收藏</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E5%BA%8F%E7%9F%A5%E8%AF%86"><span class="toc-text">前序知识</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E5%88%9D%E8%AF%86%E7%9F%A5%E8%AF%86"><span class="toc-text">1 初识知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">1.1数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1%E6%95%B4%E5%9E%8B"><span class="toc-text">1.1.1整型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2%E6%B5%AE%E7%82%B9%E5%9E%8B"><span class="toc-text">1.1.2浮点型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-3%E5%AD%97%E7%AC%A6%E5%9E%8B"><span class="toc-text">1.1.3字符型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-4%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-text">1.1.4转义字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-5%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">1.1.5字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-6%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B"><span class="toc-text">1.1.6布尔类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-7%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BE%93%E5%85%A5%E5%92%8C%E8%BE%93%E5%87%BA"><span class="toc-text">1.1.7数据的输入和输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-8%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%B5%81%E7%A8%8B%E7%BB%93%E6%9E%84"><span class="toc-text">1.1.8程序的流程结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-9%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">1.1.9一维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-10%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84-%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-text">1.1.10一维数组-冒泡排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-11%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">1.1.11二维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-12%E5%87%BD%E6%95%B0%E7%9A%84%E5%88%86%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99"><span class="toc-text">*1.1.12函数的分文件编写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-13%E6%8C%87%E9%92%88%E7%9B%B8%E5%85%B3"><span class="toc-text">1.1.13指针相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-14%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text">1.1.14结构体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-climits%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-text">1.2 climits头文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-C-%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B"><span class="toc-text">2 C++核心编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1%E5%86%85%E5%AD%98%E5%88%86%E5%8C%BA%E6%A8%A1%E5%9E%8B"><span class="toc-text">2.1内存分区模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1%E5%A0%86%E5%8C%BA%E5%BC%80%E8%BE%9F%E5%92%8C%E9%87%8A%E6%94%BE"><span class="toc-text">2.1.1堆区开辟和释放</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2%E5%BC%95%E7%94%A8-amp"><span class="toc-text">2.2引用&amp;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3%E5%87%BD%E6%95%B0%E6%8F%90%E9%AB%98"><span class="toc-text">2.3函数提高</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1%E5%87%BD%E6%95%B0%E5%BD%A2%E5%8F%82"><span class="toc-text">2.3.1函数形参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2%E5%8D%A0%E4%BD%8D%E5%8F%82%E6%95%B0"><span class="toc-text">2.3.2占位参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-3%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD"><span class="toc-text">2.3.3函数重载</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.4类和对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1%E5%B0%81%E8%A3%85"><span class="toc-text">2.4.1封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2%E6%9D%83%E9%99%90"><span class="toc-text">2.4.2权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-3%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%B8%85%E7%90%86-%E6%9E%84%E9%80%A0%E5%92%8C%E6%9E%90%E6%9E%84"><span class="toc-text">2.4.3对象的初始化和清理(构造和析构)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-3-1%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E5%88%86%E7%B1%BB%E5%8F%8A%E8%B0%83%E7%94%A8"><span class="toc-text">2.4.3.1构造函数的分类及调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-3-2%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E6%97%B6%E6%9C%BA"><span class="toc-text">2.4.3.2拷贝构造函数调用时机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-3-3%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E8%A7%84%E5%88%99"><span class="toc-text">2.4.3.3构造函数的调用规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-3-4%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-text">2.4.3.4深拷贝和浅拷贝</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-3-5%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8"><span class="toc-text">2.4.3.5初始化列表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-3-6%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E7%B1%BB%E6%88%90%E5%91%98"><span class="toc-text">2.4.3.6类对象作为类成员</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-3-7-static%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F"><span class="toc-text">2.4.3.7 static静态成员变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-3-8-static%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="toc-text">2.4.3.8 static静态成员函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-4-C-%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B%E5%92%8Cthis%E6%8C%87%E9%92%88"><span class="toc-text">2.4.4 C++对象模型和this指针</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-4-1-%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%92%8C%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E5%88%86%E5%BC%80%E5%AD%98%E5%82%A8"><span class="toc-text">2.4.4.1 成员变量和成员函数分开存储</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-4-2-this%E6%8C%87%E9%92%88"><span class="toc-text">2.4.4.2 this指针</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-5-const%E4%BF%AE%E9%A5%B0%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0-%E5%B8%B8%E5%87%BD%E6%95%B0"><span class="toc-text">2.4.5 const修饰成员函数(常函数)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-6-%E5%8F%8B%E5%85%83-friend"><span class="toc-text">2.4.6 友元 friend</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-7-%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="toc-text">2.4.7 运算符重载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-7-1-%E5%8A%A0%E5%8F%B7%E8%BF%90%E7%AE%97%E9%87%8D%E8%BD%BD"><span class="toc-text">2.4.7.1 加号运算重载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-7-2-%E5%B7%A6%E7%A7%BB%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="toc-text">2.4.7.2 左移运算符重载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-7-3-%E9%80%92%E5%A2%9E-%E5%87%8F%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="toc-text">2.4.7.3 递增&#x2F;减运算符重载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-7-4-%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="toc-text">2.4.7.4 赋值运算符重载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-7-5-%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="toc-text">2.4.7.5 关系运算符重载</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-8-%E7%BB%A7%E6%89%BF"><span class="toc-text">2.4.8 继承</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-8-1-%E7%BB%A7%E6%89%BF%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">2.4.8.1 继承的基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-8-2%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F"><span class="toc-text">2.4.8.2继承方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-8-3-%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB"><span class="toc-text">2.4.8.3 继承关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-8-4-%E6%9E%84%E9%80%A0%E5%92%8C%E6%9E%90%E6%9E%84%E9%A1%BA%E5%BA%8F"><span class="toc-text">2.4.8.4 构造和析构顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-8-5-%E5%90%8C%E5%90%8D%E6%88%90%E5%91%98%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F"><span class="toc-text">2.4.8.5 同名成员处理方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-8-6-%E5%A4%9A%E7%BB%A7%E6%89%BF%E8%AF%AD%E6%B3%95"><span class="toc-text">2.4.8.6 多继承语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-8-7-%E8%8F%B1%E5%BD%A2%E7%BB%A7%E6%89%BF-%E8%99%9A%E7%BB%A7%E6%89%BF"><span class="toc-text">2.4.8.7 菱形继承&#x2F;虚继承</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-9-%E5%A4%9A%E6%80%81"><span class="toc-text">2.4.9 多态</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-9-1%E5%A4%9A%E6%80%81%E7%9A%84%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90"><span class="toc-text">2.4.9.1多态的原理剖析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-9-2-%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-text">2.4.9.2 纯虚函数和抽象类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-9-3-%E8%99%9A%E6%9E%90%E6%9E%84%E5%92%8C%E7%BA%AF%E8%99%9A%E6%9E%90%E6%9E%84"><span class="toc-text">2.4.9.3 虚析构和纯虚析构</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">2.5文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-1-%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="toc-text">2.5.1 文本文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-1-1-%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-text">2.5.1.1 写文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-1-2-%E8%AF%BB%E6%96%87%E4%BB%B6"><span class="toc-text">2.5.1.2 读文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-2-%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-text">2.5.2 二进制文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-2-1-%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-text">2.5.2.1 写文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-2-1-%E8%AF%BB%E6%96%87%E4%BB%B6"><span class="toc-text">2.5.2.1 读文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-%E6%A8%A1%E6%9D%BF"><span class="toc-text">2.6 模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-1%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">2.6.1基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-2-%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E4%B8%8E%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">2.6.2 普通函数与函数模板的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-3-%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E5%92%8C%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E8%B0%83%E7%94%A8%E8%A7%84%E5%88%99"><span class="toc-text">2.6.3 普通函数和函数模板调用规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-4-%E6%A8%A1%E6%9D%BF%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-text">2.6.4 模板局限性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-5-%E7%B1%BB%E6%A8%A1%E6%9D%BF"><span class="toc-text">2.6.5 类模板</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-5-1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">2.6.5.1 基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-5-2-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E5%92%8C%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">2.6.5.2 类模板和函数模板的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-5-3-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E5%AF%B9%E8%B1%A1%E4%BD%9C%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">2.6.5.3 类模板对象作函数参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-5-4-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E7%BB%A7%E6%89%BF"><span class="toc-text">2.6.5.4 类模板继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-5-5-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E7%B1%BB%E5%A4%96%E5%AE%9E%E7%8E%B0"><span class="toc-text">2.6.5.5 类模板成员函数类外实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-5-6-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%BB%BD%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99"><span class="toc-text">2.6.5.6 类模板份文件编写</span></a></li></ol></li></ol></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> 好好生活，保持热爱，无惧无畏，奔赴山海 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        C++
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2024-02-29 16:46:26</span></span>
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h1 id="前序知识"><a href="#前序知识" class="headerlink" title="前序知识"></a>前序知识</h1><p><strong>变量</strong>：给一段指定的内存空间起名，方便操作这段内存。</p>
<p>C++定义常量的两种方式：</p>
<ol>
<li><strong>#define</strong>宏常量：<code>#define 常量名 常量值</code></li>
<li><strong>const</strong>修饰的变量：<code>const 数据类型 常量名 = 常量值</code></li>
</ol>
<p>标识符的命名规则：</p>
<ul>
<li>标识符不能是关键字</li>
<li>标识符只能由<u>字母、数字、下划线</u>组成</li>
<li>第一个字符必须为字母或下划线</li>
<li>标识符字母区分大小写</li>
</ul>
<h1 id="1-初识知识"><a href="#1-初识知识" class="headerlink" title="1 初识知识"></a>1 初识知识</h1><h2 id="1-1数据类型"><a href="#1-1数据类型" class="headerlink" title="1.1数据类型"></a>1.1数据类型</h2><p>数据类型存在的意义：给变量分配合适的内存空间</p>
<h3 id="1-1-1整型"><a href="#1-1-1整型" class="headerlink" title="1.1.1整型"></a>1.1.1整型</h3><p><img src="/2024/02/29/C/image-20240229211305122.png" alt="image-20240229211305122"></p>
<h3 id="1-1-2浮点型"><a href="#1-1-2浮点型" class="headerlink" title="1.1.2浮点型"></a>1.1.2浮点型</h3><p><img src="/2024/02/29/C/image-20240229211916435.png" alt="image-20240229211916435"></p>
<h3 id="1-1-3字符型"><a href="#1-1-3字符型" class="headerlink" title="1.1.3字符型"></a>1.1.3字符型</h3><p>字符型变量用于显示单个字符</p>
<p>语法：<code>char ch = &#39;a&#39;</code></p>
<p>注意：</p>
<ul>
<li>C和C++中字符型变量只占用1个字节</li>
<li>字符型变量并不是把字符本身放到内存中进行存储，而是将对应的ASCII码存储</li>
</ul>
<h3 id="1-1-4转义字符"><a href="#1-1-4转义字符" class="headerlink" title="1.1.4转义字符"></a>1.1.4转义字符</h3><p>用于表示一些不能显示出来的ASCII字符</p>
<p><img src="/2024/02/29/C/image-20240229212521459.png" alt="image-20240229212521459"></p>
<h3 id="1-1-5字符串"><a href="#1-1-5字符串" class="headerlink" title="1.1.5字符串"></a>1.1.5字符串</h3><p>C风格字符串：<code>char str[ ] = &quot;abcdefg&quot;</code></p>
<p>C++风格字符串：<code>string str = &quot;abcdefg&quot;</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">//注意，C++风格要加string头文件</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">char</span> str1[]=<span class="string">&quot;abcd&quot;</span>;</span><br><span class="line">    string str2=<span class="string">&quot;abcd&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-1-6布尔类型"><a href="#1-1-6布尔类型" class="headerlink" title="1.1.6布尔类型"></a>1.1.6布尔类型</h3><p><strong>作用：</strong>布尔数据类型代表真或者假的值</p>
<p>bool占用1个字节的大小</p>
<h3 id="1-1-7数据的输入和输出"><a href="#1-1-7数据的输入和输出" class="headerlink" title="1.1.7数据的输入和输出"></a>1.1.7数据的输入和输出</h3><p>关键字：cin、cout</p>
<p>语法：<code>cin &gt;&gt; 变量名</code>和<code>cout &lt;&lt; 变量名</code></p>
<h3 id="1-1-8程序的流程结构"><a href="#1-1-8程序的流程结构" class="headerlink" title="1.1.8程序的流程结构"></a>1.1.8程序的流程结构</h3><p>C/C++支持最基本的三种程序运行结构：==顺序结构==、==选择结构==、==循环结构==</p>
<h3 id="1-1-9一维数组"><a href="#1-1-9一维数组" class="headerlink" title="1.1.9一维数组"></a>1.1.9一维数组</h3><p>一维素组定义的三种方式：</p>
<ul>
<li><code>int a[10]=&#123;1,2,3,4&#125;</code></li>
<li><code>int a[]=&#123;1,2,3,4&#125;</code></li>
</ul>
<h3 id="1-1-10一维数组-冒泡排序"><a href="#1-1-10一维数组-冒泡排序" class="headerlink" title="1.1.10一维数组-冒泡排序"></a>1.1.10一维数组-冒泡排序</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> a[] = &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">32</span>&#125;;</span><br><span class="line">    <span class="comment">//寻找n轮最大值</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">        <span class="comment">//每一轮进行n-i-1次判断和交换，得出该轮的最大值</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">7</span>-i<span class="number">-1</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (a[j] &lt; a[j + <span class="number">1</span>])</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">int</span> temp = a[j];</span><br><span class="line">				a[j] = a[j + <span class="number">1</span>];</span><br><span class="line">				a[j + <span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)cout &lt;&lt; a[i] &lt;&lt; <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>比较相邻的元素。如果第一个比第二个大，就交换他们两个。</li>
<li>对每一对相邻元素做同样的工作，执行完毕后，找到第一个最大值。</li>
<li>重复上面的步骤，每次比较数-1，直到不需要比较。</li>
</ul>
<p><img src="/2024/02/29/C/afb80e39ce7684d6330fdc66b0873abd.gif" alt="img"></p>
<h3 id="1-1-11二维数组"><a href="#1-1-11二维数组" class="headerlink" title="1.1.11二维数组"></a>1.1.11二维数组</h3><p><strong>定义方式：</strong></p>
<p><code>int a[2][2]=&#123;&#123;数据1,数据2&#125;,&#123;数据3,数据4&#125;&#125;</code></p>
<p><code>int a[2][2]=&#123;数据1,数据2,数据3,数据4&#125;</code></p>
<p><code>int a[][2]=&#123;数据1,数据2,数据3,数据4&#125;</code></p>
<p>注意：必须要指明<strong>列数</strong>，行数可以无需指明</p>
<h3 id="1-1-12函数的分文件编写"><a href="#1-1-12函数的分文件编写" class="headerlink" title="*1.1.12函数的分文件编写"></a>*1.1.12函数的分文件编写</h3><p>步骤：</p>
<ul>
<li>创建后缀名为.h的头文件，在头文件中写函数声明</li>
<li>创建后缀名为.cpp的源文件，在源文件中写函数的实现</li>
</ul>
<p>main文件</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;swap.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">0</span>,b=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">swap</span>(&amp;a,&amp;b);</span><br><span class="line">    cout&lt;&lt;a&lt;&lt;b&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>swap.h</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(<span class="type">int</span> *a,<span class="type">int</span> *b)</span></span>;</span><br></pre></td></tr></table></figure>
<p>swap.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;swap.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(<span class="type">int</span> *a,<span class="type">int</span> *b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> temp=*a;</span><br><span class="line">    *a=*b;</span><br><span class="line">    *b=temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-1-13指针相关"><a href="#1-1-13指针相关" class="headerlink" title="1.1.13指针相关"></a>1.1.13指针相关</h3><p>指针的本质就是一个十六进制的数，用于表示地址，在32位下占用4字节，64位下占用8字节</p>
<p><strong>空指针</strong>：指向编号为0的空间，用于初始化指针变量，<code>int *a = NULL</code>，</p>
<p>注意：空指针是==不可访问的==，0~255之间的编号是系统占用的，因此不可访问</p>
<p><strong>野指针</strong>：指向非法的内存空间（不是自己申请的空间），<code>int *p=(int *)0x1100</code></p>
<p><strong>const修饰指针</strong>：</p>
<ol>
<li>const修饰指针：<strong>常量指针</strong><code>const int * p</code></li>
<li>const修饰常量：<strong>指针常量</strong> <code>int * const p</code></li>
<li>const既修饰指针，又修饰常量<code>const int * const p</code></li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> *p = &amp;a; <span class="comment">//常量指针</span></span><br><span class="line">p = &amp;b;</span><br><span class="line">*p = <span class="number">20</span>;<span class="comment">//这个操作是错误的</span></span><br><span class="line"><span class="comment">//特点:指针指向可以改，但指针指向的值不可以改</span></span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> * <span class="type">const</span> p = &amp;a;<span class="comment">//指针常量</span></span><br><span class="line">p = &amp;b;<span class="comment">//这个操作是错误的</span></span><br><span class="line">*p = <span class="number">20</span>;</span><br><span class="line"><span class="comment">//特点：指针的指向不可以改，但指针指向的值可以改</span></span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span>* <span class="type">const</span> p=&amp;a;</span><br><span class="line"><span class="comment">//特点：指针指向和值都不可以改</span></span><br></pre></td></tr></table></figure>
<p>看const位置，只要<strong>const紧跟</strong>的就可以修改，可以理解为锁定变量指针</p>
<h3 id="1-1-14结构体"><a href="#1-1-14结构体" class="headerlink" title="1.1.14结构体"></a>1.1.14结构体</h3><p>语法：<code>struct 结构体名 &#123;成员列表&#125;</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">student</span></span><br><span class="line">&#123;</span><br><span class="line">	string name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">int</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">student</span> Stu1=&#123;<span class="string">&quot;ZhangSan&quot;</span>,<span class="number">18</span>,<span class="number">90</span>&#125;;</span><br><span class="line">    <span class="comment">//C++中结构体创建struct关键字可以省略</span></span><br><span class="line">    student Stu2 = &#123;<span class="string">&quot;LiSi&quot;</span>,<span class="number">18</span>,<span class="number">80</span>&#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">student</span></span><br><span class="line">&#123;</span><br><span class="line">	string name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">int</span> score;</span><br><span class="line">&#125;Stu;<span class="comment">//顺便定义</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Stu.name=<span class="string">&quot;ZhangSan&quot;</span>;</span><br><span class="line">    Stu.age=<span class="number">18</span>;</span><br><span class="line">    Stu.score=<span class="number">90</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-2-climits头文件"><a href="#1-2-climits头文件" class="headerlink" title="1.2 climits头文件"></a>1.2 climits头文件</h2><p>定义了各种整型数据的最大值和最小值</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;climits&gt;</span></span></span><br></pre></td></tr></table></figure>
<p><img src="/2024/02/29/C/image-20240305105400635.png" alt="image-20240305105400635"></p>
<p><img src="/2024/02/29/C/image-20240305105423398.png" alt="image-20240305105423398"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> INT_MAX 2147483647</span></span><br></pre></td></tr></table></figure>
<p>头文件中有许多如上的指令</p>
<p><code>#define</code>也是一个预处理编译指令，告诉编译器将INT_MAX替换为2147483647</p>
<h1 id="2-C-核心编程"><a href="#2-C-核心编程" class="headerlink" title="2 C++核心编程"></a>2 C++核心编程</h1><h2 id="2-1内存分区模型"><a href="#2-1内存分区模型" class="headerlink" title="2.1内存分区模型"></a>2.1内存分区模型</h2><p>C++程序在执行时，将内存大方向划分为<strong>4个区域</strong></p>
<ul>
<li>代码区：用于存放函数的二进制代码，由操作系统进行管理</li>
<li>全局区：存放全局变量和静态变量(static)以及常量(const)</li>
<li>栈区：由编译器自动分配释放，存放函数参数和局部变量等</li>
<li>堆区：由程序员分配和释放，若程序员不释放，程序结束由操作系统回收</li>
</ul>
<p>内存分区的意义：不同区域存放的数据，赋予不同的生命周期，更为灵活的编程</p>
<p>代码区和全局区都是在<strong>程序运行前</strong>就存在，栈区和堆区都在<strong>程序运行时</strong>才会分配</p>
<h3 id="2-1-1堆区开辟和释放"><a href="#2-1-1堆区开辟和释放" class="headerlink" title="2.1.1堆区开辟和释放"></a>2.1.1堆区开辟和释放</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> * p1 = <span class="keyword">new</span> <span class="built_in">int</span>(<span class="number">10</span>);<span class="comment">//p1指向一个值为10的int数</span></span><br><span class="line"><span class="type">int</span> * p2 = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">20</span>];<span class="comment">//开辟20长度的数组空间</span></span><br><span class="line"><span class="type">int</span> * p3 = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="number">20</span>*<span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="comment">//指针p1,p2,p3本质上还是一个局部变量，放在栈上的，但指针指向的空间在堆区</span></span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">delete</span>(p1);</span><br><span class="line"><span class="built_in">free</span>(p2);</span><br></pre></td></tr></table></figure>
<h2 id="2-2引用-amp"><a href="#2-2引用-amp" class="headerlink" title="2.2引用&amp;"></a>2.2引用&amp;</h2><p>本质就是指针常量(<code>int* const ref = &amp;a</code>)，<strong>指向不可改变，值可改</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a=<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> &amp;b=a;</span><br></pre></td></tr></table></figure>
<p>注意，b并不是指针，是对a的引用，<strong>给一个变量起别名</strong></p>
<p>区别就在于，引用<strong>必须初始化</strong>，创建后不可以改变指向，指针可以修改指向</p>
<p><strong>注意</strong>：引用可以用作函数返回值，但是不要返回局部变量的引用，因为在函数结束后，栈区会释放。</p>
<h2 id="2-3函数提高"><a href="#2-3函数提高" class="headerlink" title="2.3函数提高"></a>2.3函数提高</h2><h3 id="2-3-1函数形参"><a href="#2-3-1函数形参" class="headerlink" title="2.3.1函数形参"></a>2.3.1函数形参</h3><p>在C++中，函数的形参列表可以设置默认值</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">func</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b = <span class="number">10</span>, <span class="type">int</span> c=<span class="number">20</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//默认值，如果没有传入b/c就按默认值来</span></span><br><span class="line">    <span class="comment">//注意：此时的a必须传入，否则会报错</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果某个位置已经有了默认参数，那么从这个位置往后，都必须有默认参数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">func</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b =<span class="number">10</span>, <span class="type">int</span> c)</span><span class="comment">//这种情况会报错</span></span></span><br></pre></td></tr></table></figure>
<p>函数的声明和实现<strong>只能一个有默认参数</strong>，不能同时有</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">func</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b=<span class="number">10</span>,<span class="type">int</span> c=<span class="number">20</span>)</span></span>;<span class="comment">//声明</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">func</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b,<span class="type">int</span> c)</span></span>&#123;	&#125;<span class="comment">//实现</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">func</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b,<span class="type">int</span> c)</span></span>;<span class="comment">//声明</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">func</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b=<span class="number">10</span>, <span class="type">int</span> c=<span class="number">20</span>)</span></span>&#123; &#125;<span class="comment">//实现</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-2占位参数"><a href="#2-3-2占位参数" class="headerlink" title="2.3.2占位参数"></a>2.3.2占位参数</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span>)</span></span>&#123; &#125;</span><br></pre></td></tr></table></figure>
<p>调用函数时必须填补该参数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">func</span>(<span class="number">1</span>,<span class="number">100</span>);<span class="comment">//100即填充，可以填任意数</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-3函数重载"><a href="#2-3-3函数重载" class="headerlink" title="2.3.3函数重载"></a>2.3.3函数重载</h3><p><strong>作用：</strong>函数名可以相同，提高复用性</p>
<ul>
<li>同一个作用域下，函数名相同</li>
<li>函数参数 <strong>类型不同</strong> 或 <strong>个数不同</strong> 或 <strong>顺序不同</strong></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;int函数:&quot;</span>&lt;&lt;a&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">double</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;double函数：&quot;</span>&lt;&lt;a&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong></p>
<p>函数重载碰到默认参数时，默认参数是不计的</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">func</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b=<span class="number">10</span>,<span class="type">int</span> c=<span class="number">20</span>)</span></span>&#123; &#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">func</span><span class="params">(<span class="type">int</span> a)</span></span>;</span><br><span class="line"><span class="comment">//上面代码是错误的，无法发生函数重载</span></span><br></pre></td></tr></table></figure>
<p>函数重载碰到引用时，</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">int</span> &amp;a)</span><span class="comment">//调用func(a)变量</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;a)</span><span class="comment">//调用func(10)常量</span></span></span><br></pre></td></tr></table></figure>
<h2 id="2-4类和对象"><a href="#2-4类和对象" class="headerlink" title="2.4类和对象"></a>2.4类和对象</h2><p>C++面向对象的三大特征：<strong><u>封装</u></strong>、<strong><u>继承</u></strong>、<strong><u>多态</u></strong></p>
<p>万事万物皆为对象，对象上有其属性和行为</p>
<ul>
<li>struct 默认权限为公共 public</li>
<li>class 默认权限为私有 private</li>
</ul>
<h3 id="2-4-1封装"><a href="#2-4-1封装" class="headerlink" title="2.4.1封装"></a>2.4.1封装</h3><p>封装的意义：</p>
<ul>
<li>将属性和行为作为一个整体，表现生活中的事物</li>
<li>将属性和行为加以权限控制</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">circle</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:<span class="comment">//访问权限：公共权限</span></span><br><span class="line">    <span class="type">double</span> r;</span><br><span class="line">    <span class="type">const</span> <span class="type">double</span> PI = <span class="number">3.1415926</span>;<span class="comment">//属性</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">calculateZC</span><span class="params">()</span><span class="comment">//行为</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * PI * r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;<span class="comment">//注意这里的分号</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    circle c1;<span class="comment">//创建对象(实例化)</span></span><br><span class="line">    c1.r = <span class="number">1.0</span>;<span class="comment">//赋值</span></span><br><span class="line">    cout &lt;&lt; c1.<span class="built_in">calculateZC</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-2权限"><a href="#2-4-2权限" class="headerlink" title="2.4.2权限"></a>2.4.2权限</h3><ul>
<li><strong>public</strong> 公共权限</li>
<li><strong>protected</strong> 保护权限</li>
<li><strong>private</strong> 私有权限（默认）</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//公共权限	public		类内可以访问，类外也可以访问</span></span><br><span class="line"><span class="comment">//保护权限	protected	类内可以访问，类外不可以访问(子类可以访问)</span></span><br><span class="line"><span class="comment">//私有权限	private		类内可以访问，类外不可以访问(子类不能访问)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string name;    </span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    string id;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> password;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>类中成员的默认权限为<strong>private</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cube</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> l, w, h;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setLWH</span><span class="params">(<span class="type">double</span> ll, <span class="type">double</span> ww, <span class="type">double</span> hh)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        l = ll;</span><br><span class="line">        w = ww;</span><br><span class="line">        h = hh;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">getV</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> l * w * h;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">getA</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * (l * w + w * h + l * h);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">ifequ</span><span class="params">(Cube x)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x.l == l &amp;&amp; x.h == h &amp;&amp; x.w == w ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Cube a,b;</span><br><span class="line">    a.<span class="built_in">setLWH</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    b.<span class="built_in">setLWH</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;面积为：&quot;</span> &lt;&lt; a.<span class="built_in">getA</span>() &lt;&lt; <span class="string">&quot;体积为：&quot;</span> &lt;&lt; a.<span class="built_in">getV</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;是否相等&quot;</span> &lt;&lt; a.ifequ(b) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-3对象的初始化和清理-构造和析构"><a href="#2-4-3对象的初始化和清理-构造和析构" class="headerlink" title="2.4.3对象的初始化和清理(构造和析构)"></a>2.4.3对象的初始化和清理(构造和析构)</h3><p>如果我们不提供构造函数和析构函数，编译器会提供<strong>空实现</strong>的构造函数和析构函数</p>
<ul>
<li><strong>构造函数：</strong>主要作用在于创建对象时为对象成员属性赋值，构造函数由编译器自动调用，无需手动调用</li>
<li><strong>析构函数：</strong>主要作用在于对象销毁前系统自动调用，执行一些清理工作</li>
</ul>
<p>构造函数可以<strong>有参数</strong>，可以发生重载</p>
<p>析构函数<strong>不能有参数</strong>，不能发生重载</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Person</span>()<span class="comment">//构造函数</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Person</span>()<span class="comment">//析构函数</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-3-1构造函数的分类及调用"><a href="#2-4-3-1构造函数的分类及调用" class="headerlink" title="2.4.3.1构造函数的分类及调用"></a>2.4.3.1构造函数的分类及调用</h4><p><strong>分类：</strong>有参构造、无参构造（普通构造）/拷贝构造</p>
<p><strong>调用：</strong>括号法、显示法、隐式转换法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="built_in">Person</span>()<span class="comment">//普通构造</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;无参构造函数调用&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">int</span> a)<span class="comment">//普通构造</span></span><br><span class="line">    &#123;</span><br><span class="line">        age = a;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;有参构造函数调用&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">const</span> Person &amp;p )<span class="comment">//拷贝构造</span></span><br><span class="line">    &#123;</span><br><span class="line">        age = p.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="number">1</span>、括号法</span><br><span class="line">    Person p1;<span class="comment">//默认构造函数，不需要加()，如果加了()编译器会认为是一个函数声明</span></span><br><span class="line">    <span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">10</span>)</span></span>;<span class="comment">//有参构造函数</span></span><br><span class="line">    <span class="function">Person <span class="title">p3</span><span class="params">(p2)</span></span>;<span class="comment">//拷贝构造函数</span></span><br><span class="line"></span><br><span class="line">	<span class="number">2</span>、显示法</span><br><span class="line">    Person p2 = <span class="built_in">Person</span>(<span class="number">10</span>);</span><br><span class="line">    Person p3 = <span class="built_in">Person</span>(p2);</span><br><span class="line">    	补充：<span class="built_in">Person</span>(<span class="number">10</span>);<span class="comment">//匿名对象 特点：当前行执行结束就回收</span></span><br><span class="line">    </span><br><span class="line">    <span class="number">3</span>、隐式转换法</span><br><span class="line">    Person p4 = <span class="number">10</span>;</span><br><span class="line">    Person p5 = p4;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-3-2拷贝构造函数调用时机"><a href="#2-4-3-2拷贝构造函数调用时机" class="headerlink" title="2.4.3.2拷贝构造函数调用时机"></a>2.4.3.2拷贝构造函数调用时机</h4><ul>
<li>使用一个已经创建完毕的对象来初始化新对象</li>
<li>值传递的方式给函数参数传值</li>
<li>以值方式返回局部对象</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Person p;</span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(p)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">doWork</span><span class="params">(Person p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test02</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Person p;</span><br><span class="line">	<span class="built_in">doWork</span>(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Person <span class="title">doWork</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Person p3;</span><br><span class="line">	<span class="keyword">return</span> p3;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test03</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p = <span class="built_in">doWork</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-3-3构造函数的调用规则"><a href="#2-4-3-3构造函数的调用规则" class="headerlink" title="2.4.3.3构造函数的调用规则"></a>2.4.3.3构造函数的调用规则</h4><p>默认的拷贝构造函数会进行<strong>值拷贝</strong>，其他的构造函数都是空实现的</p>
<ul>
<li>如果用户定义了有参构造函数，C++不再提供默认的无参构造函数，但会提供默认的拷贝构造</li>
<li>如果用户定义了拷贝构造函数，C++不会再提供其他构造函数</li>
</ul>
<h4 id="2-4-3-4深拷贝和浅拷贝"><a href="#2-4-3-4深拷贝和浅拷贝" class="headerlink" title="2.4.3.4深拷贝和浅拷贝"></a>2.4.3.4深拷贝和浅拷贝</h4><p><strong>浅拷贝</strong>：简单的赋值拷贝操作(=)</p>
<p><strong>深拷贝</strong>：在堆区重新申请内存空间，进行拷贝操作</p>
<p>拷贝构造带来的问题：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Stu</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string name;</span><br><span class="line">	<span class="type">int</span>* m_height;</span><br><span class="line">	<span class="built_in">Stu</span>(string a, <span class="type">int</span> height)</span><br><span class="line">	&#123;</span><br><span class="line">		name = a;</span><br><span class="line">		m_height = <span class="keyword">new</span> <span class="built_in">int</span>(height);</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Stu</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (m_height != <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">delete</span>(m_height);</span><br><span class="line">			m_height = <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">Stu <span class="title">c1</span><span class="params">(<span class="string">&quot;vicczyq&quot;</span>, <span class="number">172</span>)</span></span>;</span><br><span class="line">	<span class="function">Stu <span class="title">c2</span><span class="params">(c1)</span></span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这段代码，c2会拷贝c1的值，但是他拷贝的是<strong>指针</strong>，是同一个地址，当c2先析构后，c1析构时候释放内存会出错崩溃</p>
<p><img src="/2024/02/29/C/image-20240301224532559.png" alt="image-20240301224532559"></p>
<p>因此，在进行拷贝时，要新申请一个空间，这样才能解决</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Stu</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string name;</span><br><span class="line">	<span class="type">int</span>* m_height;</span><br><span class="line">	<span class="built_in">Stu</span>(string a, <span class="type">int</span> height)</span><br><span class="line">	&#123;</span><br><span class="line">		name = a;</span><br><span class="line">		m_height = <span class="keyword">new</span> <span class="built_in">int</span>(height);</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="built_in">Stu</span>(<span class="type">const</span> Stu &amp;p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//m_height = p.m_height;//浅拷贝(不会申请新的空间)</span></span><br><span class="line">        m_height = <span class="keyword">new</span> <span class="built_in">int</span>(*p.m_height);<span class="comment">//深拷贝(申请新空间)</span></span><br><span class="line">        name = p.name;</span><br><span class="line">    &#125;</span><br><span class="line">	~<span class="built_in">Stu</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (m_height != <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">delete</span>(m_height);</span><br><span class="line">			m_height = <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">Stu <span class="title">c1</span><span class="params">(<span class="string">&quot;vicczyq&quot;</span>, <span class="number">172</span>)</span></span>;</span><br><span class="line">	<span class="function">Stu <span class="title">c2</span><span class="params">(c1)</span></span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-3-5初始化列表"><a href="#2-4-3-5初始化列表" class="headerlink" title="2.4.3.5初始化列表"></a>2.4.3.5初始化列表</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> m_a,m_b,m_c;</span><br><span class="line">	<span class="built_in">Person</span>(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> c) : <span class="built_in">m_a</span>(a),<span class="built_in">m_b</span>(b),<span class="built_in">m_c</span>(c)</span><br><span class="line">	&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-3-6类对象作为类成员"><a href="#2-4-3-6类对象作为类成员" class="headerlink" title="2.4.3.6类对象作为类成员"></a>2.4.3.6类对象作为类成员</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">A</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;A构造&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span></span><br><span class="line">&#123;</span><br><span class="line">	A a;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">B</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;B构造&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	B x;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2024/02/29/C/image-20240301230820745.png" alt="image-20240301230820745"></p>
<p>证明，构造B时，需要先完成A的构造</p>
<h4 id="2-4-3-7-static静态成员变量"><a href="#2-4-3-7-static静态成员变量" class="headerlink" title="2.4.3.7 static静态成员变量"></a>2.4.3.7 static静态成员变量</h4><ul>
<li><p>所有对象都共享同一份数据。</p>
</li>
<li><p>编译阶段就会进行内存分配（全局区）</p>
</li>
<li>类内声明，类外进行初始化操作</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> m_A;<span class="comment">//类内声明</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> Person::m_A = <span class="number">100</span>;<span class="comment">//类外初始化</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p1;</span><br><span class="line">    cout&lt;&lt; p1.m_A &lt;&lt;endl;<span class="comment">//输出100</span></span><br><span class="line">    Person p2;</span><br><span class="line">    p2.m_A=<span class="number">200</span>;</span><br><span class="line">    cout &lt;&lt; p1.m_A &lt;&lt; endl;<span class="comment">//访问的任然是p1,但输出200</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>静态成员变量不属于任何一个对象，所有对象都<strong>共享一份数据</strong>。</p>
<p>所以可以通过两种方式进行访问：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Person p1;</span><br><span class="line">cout &lt;&lt; p1.m_A &lt;&lt; endl;<span class="comment">//创建对象进行访问</span></span><br><span class="line">cout &lt;&lt; Person::m_A &lt;&lt;endl;<span class="comment">//通过类名进行访问</span></span><br></pre></td></tr></table></figure>
<h4 id="2-4-3-8-static静态成员函数"><a href="#2-4-3-8-static静态成员函数" class="headerlink" title="2.4.3.8 static静态成员函数"></a>2.4.3.8 static静态成员函数</h4><p>所有对象都共享一个函数，并且函数只能访问静态成员变量</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> m_A;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;static void func调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; m_A &lt;&lt; endl; <span class="comment">//只能访问静态成员变量</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> Person::m_A = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Person p1;</span><br><span class="line">    p1.<span class="built_in">func</span>();<span class="comment">//通过对象访问</span></span><br><span class="line">    </span><br><span class="line">    Person::<span class="built_in">func</span>();<span class="comment">//通过类名访问</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-4-C-对象模型和this指针"><a href="#2-4-4-C-对象模型和this指针" class="headerlink" title="2.4.4 C++对象模型和this指针"></a>2.4.4 C++对象模型和this指针</h3><h4 id="2-4-4-1-成员变量和成员函数分开存储"><a href="#2-4-4-1-成员变量和成员函数分开存储" class="headerlink" title="2.4.4.1 成员变量和成员函数分开存储"></a>2.4.4.1 成员变量和成员函数分开存储</h4><p>注意：静态成员变量或函数不属于任何一个对象上。</p>
<p>空对象占用的内存空间大小为：<strong>1</strong></p>
<p>只有非静态成员变量<strong>属于</strong>类的对象上，</p>
<p>其他(静态成员变量、成员函数)都不属于类的对象上，也就是说只有一份。</p>
<h4 id="2-4-4-2-this指针"><a href="#2-4-4-2-this指针" class="headerlink" title="2.4.4.2 this指针"></a>2.4.4.2 this指针</h4><p>由2.4.4.1可知，多个对象会共享（静态成员变量、静态成员函数和非静态成员函数）。</p>
<p>可以通过<strong>this</strong>指针区分对象调用</p>
<p>this指针指向<strong>被调用的成员函数所属的对象</strong></p>
<p><strong>用途：</strong></p>
<ul>
<li>当函数形参和成员变量同名时，可以用this来区分</li>
<li>当类的非静态成员函数返回对象本身时，可以用<code>return *this</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string name;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">setName</span><span class="params">(string name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    	<span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Person <span class="title">getInfo</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-5-const修饰成员函数-常函数"><a href="#2-4-5-const修饰成员函数-常函数" class="headerlink" title="2.4.5 const修饰成员函数(常函数)"></a>2.4.5 const修饰成员函数(常函数)</h3><ul>
<li>常函数内不可以修改成员属性</li>
<li>成员属性声明时加关键字<code>mutable</code>后，在常函数中依然可以修改</li>
</ul>
<p>对象创建时，加const称为常对象，常对象只能调用常函数。</p>
<p><strong>主要是对函数内this指针的限制</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">showPerson</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">this</span> -&gt; m_A = <span class="number">100</span>;<span class="comment">//报错，const修饰this指向的值不可修改</span></span><br><span class="line">		<span class="keyword">this</span> -&gt; m_B = <span class="number">100</span>;<span class="comment">//有mutable关键字可修改</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> m_A;</span><br><span class="line">	<span class="keyword">mutable</span> <span class="type">int</span> m_B;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-6-友元-friend"><a href="#2-4-6-友元-friend" class="headerlink" title="2.4.6 友元 friend"></a>2.4.6 友元 friend</h3><p>让一个函数或者类 访问另一个类中的私有成员</p>
<p><strong>友元的三种实现：</strong></p>
<ul>
<li>全局函数做友元</li>
<li>类做友元</li>
<li>成员函数做友元</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Building</span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">goodGay</span><span class="params">(Building* building)</span></span>;<span class="comment">//声明友元函数</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string m_SittingRoom;<span class="comment">//客厅</span></span><br><span class="line">	<span class="built_in">Building</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		m_SittingRoom = <span class="string">&quot;客厅&quot;</span>;</span><br><span class="line">		m_BedRoom = <span class="string">&quot;卧室&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	 string m_BedRoom;<span class="comment">//卧室</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">goodGay</span><span class="params">(Building *building)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Gay:&quot;</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Gay:&quot;</span> &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Building a;</span><br><span class="line">	<span class="built_in">goodGay</span>(&amp;a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Building</span> &#123;</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">GoodGay</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string m_SittingRoom;<span class="comment">//客厅</span></span><br><span class="line">	<span class="built_in">Building</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		m_SittingRoom = <span class="string">&quot;客厅&quot;</span>;</span><br><span class="line">		m_BedRoom = <span class="string">&quot;卧室&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	string m_BedRoom;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GoodGay</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	Building* building = <span class="keyword">new</span> Building;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">visit</span><span class="params">()</span></span>;<span class="comment">//函数声明，可以在类内实现，也可以在类外</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">GoodGay::visit</span><span class="params">()</span><span class="comment">//类外实现成员函数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Gay:&quot;</span> &lt;&lt; building-&gt;m_SittingRoom &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Gay:&quot;</span> &lt;&lt; building-&gt;m_BedRoom &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	GoodGay gay;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Home</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GoodGay</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(Home* home)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Home</span> &#123;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">GoodGay::func</span><span class="params">(Home * home)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">int</span> id = <span class="number">10</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">GoodGay::func</span><span class="params">(Home* home)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; home-&gt;id &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	GoodGay a;</span><br><span class="line">	Home home;</span><br><span class="line">	a.<span class="built_in">func</span>(&amp;home);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-7-运算符重载"><a href="#2-4-7-运算符重载" class="headerlink" title="2.4.7 运算符重载"></a>2.4.7 运算符重载</h3><p>对于内置的数据类型，编译器知道怎么进行数据运算</p>
<p>但是对于其他的数据类型，需要自己定义计算方法</p>
<h4 id="2-4-7-1-加号运算重载"><a href="#2-4-7-1-加号运算重载" class="headerlink" title="2.4.7.1 加号运算重载"></a>2.4.7.1 加号运算重载</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person p3 = p1+p2</span><br></pre></td></tr></table></figure>
<p>通过<strong>成员函数</strong>重载”+“</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Person <span class="keyword">operator</span>+ (Person &amp;p)</span><br><span class="line">&#123;</span><br><span class="line">	Person temp;</span><br><span class="line">	temp.m_A = <span class="keyword">this</span>-&gt;m_A + p.m_A;</span><br><span class="line">	temp.m_B = <span class="keyword">this</span>-&gt;m_B + p.m_B;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过<strong>全局函数</strong>重载”+“</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Person <span class="keyword">operator</span>+ (Person &amp;p1, Person &amp;p2)</span><br><span class="line">&#123;</span><br><span class="line">    Person temp;</span><br><span class="line">    temp.m_A = p1.m_A + p2.m_A;</span><br><span class="line">    temp.m_B = p1.m_B + p2.m_B;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-7-2-左移运算符重载"><a href="#2-4-7-2-左移运算符重载" class="headerlink" title="2.4.7.2 左移运算符重载"></a>2.4.7.2 左移运算符重载</h4><p>作用：自定义输出内容</p>
<p>只能用全局函数进行重载</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ostream &amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp;cout,Person p)</span><br><span class="line">&#123;</span><br><span class="line">	cout &lt;&lt; p.m_A;</span><br><span class="line">	<span class="keyword">return</span> cout;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-7-3-递增-减运算符重载"><a href="#2-4-7-3-递增-减运算符重载" class="headerlink" title="2.4.7.3 递增/减运算符重载"></a>2.4.7.3 递增/减运算符重载</h4><p>作用：通过重载递增运算符，实现自己的整型数据</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyInt</span> &#123;</span><br><span class="line">	<span class="keyword">friend</span> ostream &amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, MyInt&amp; p);</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">//重载前置++运算符</span></span><br><span class="line">	<span class="comment">//返回引用的原因是要对同一个数据空间进行操作</span></span><br><span class="line">	<span class="comment">//如果不用引用，会复制出一个副本</span></span><br><span class="line">	MyInt &amp;<span class="keyword">operator</span>++()</span><br><span class="line">	&#123;</span><br><span class="line">		i++;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//重载后置++运算符</span></span><br><span class="line">	MyInt <span class="keyword">operator</span>++(<span class="type">int</span>)<span class="comment">//返回的是值，因为temp在函数结束后就会释放</span></span><br><span class="line">	&#123;</span><br><span class="line">		MyInt temp = *<span class="keyword">this</span>;</span><br><span class="line">		i++;</span><br><span class="line">		<span class="keyword">return</span> temp;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	string name = <span class="string">&quot;vicczyq&quot;</span>;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">10</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ostream &amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp;out, MyInt &amp;p)</span><br><span class="line">&#123;</span><br><span class="line">	out &lt;&lt; p.name &lt;&lt; p.i;</span><br><span class="line">	<span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	MyInt a;</span><br><span class="line">	cout &lt;&lt; a &lt;&lt; endl;</span><br><span class="line">	++(++a);</span><br><span class="line">	cout &lt;&lt; a &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-7-4-赋值运算符重载"><a href="#2-4-7-4-赋值运算符重载" class="headerlink" title="2.4.7.4 赋值运算符重载"></a>2.4.7.4 赋值运算符重载</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> *m_age;</span><br><span class="line">	<span class="built_in">Person</span>(<span class="type">int</span> x)</span><br><span class="line">	&#123;</span><br><span class="line">		m_age = <span class="keyword">new</span> <span class="built_in">int</span>(x);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	Person &amp; <span class="keyword">operator</span>=(Person &amp; p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(m_age!=<span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">delete</span> m_age;</span><br><span class="line">			m_age = <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		m_age = <span class="keyword">new</span> <span class="built_in">int</span>(p.m_age);<span class="comment">//深拷贝</span></span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-7-5-关系运算符重载"><a href="#2-4-7-5-关系运算符重载" class="headerlink" title="2.4.7.5 关系运算符重载"></a>2.4.7.5 关系运算符重载</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string name;</span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">bool</span> <span class="keyword">operator</span>==(Person &amp;p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(p.name==name &amp;&amp; p.id==id)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-8-继承"><a href="#2-4-8-继承" class="headerlink" title="2.4.8 继承"></a>2.4.8 继承</h3><p>下级别成员拥有上一级的共性，又有自己的特点。<strong>减少重复代码</strong>。</p>
<p><img src="/2024/02/29/C/image-20240303191037932.png" alt="image-20240303191037932"></p>
<h4 id="2-4-8-1-继承的基本语法"><a href="#2-4-8-1-继承的基本语法" class="headerlink" title="2.4.8.1 继承的基本语法"></a>2.4.8.1 继承的基本语法</h4><p>基本语法：<code>class 子类 : 继承方式 父类</code></p>
<p>子类 也称为 <strong>派生类</strong></p>
<p>父类 也称为 <strong>基类</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BasePage</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;父类的打印函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Page1</span> : <span class="keyword">public</span> BasePage <span class="comment">//此处实现继承操作，注意是一个冒号</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Page1 p;</span><br><span class="line">	p.<span class="built_in">Print</span>();<span class="comment">//子类对象访问父类的方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-8-2继承方式"><a href="#2-4-8-2继承方式" class="headerlink" title="2.4.8.2继承方式"></a>2.4.8.2继承方式</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">int</span> c;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>公共继承</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> : <span class="keyword">public</span> A</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>保护继承</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> : <span class="keyword">protected</span> A</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>私有继承</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> : <span class="keyword">private</span> A</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>所谓的继承方式就是<strong>继承成为对应权限</strong>，除了公共继承需要考虑protected的处理。</p>
<p>注意：父类的private不管怎么样都是不能继承的</p>
<h4 id="2-4-8-3-继承关系"><a href="#2-4-8-3-继承关系" class="headerlink" title="2.4.8.3 继承关系"></a>2.4.8.3 继承关系</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BasePage</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="type">int</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Page1</span> : <span class="keyword">public</span> BasePage</span><br><span class="line">&#123;</span><br><span class="line">	</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Page1 p;</span><br><span class="line">	cout &lt;&lt; <span class="built_in">sizeof</span>(p) &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//此处会输出12，因此继承了a,b,c但是c被隐藏</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>父类中所有的非静态成员属性都会被子类继承下去，但是私有的属性被编译器隐藏了。</p>
<h4 id="2-4-8-4-构造和析构顺序"><a href="#2-4-8-4-构造和析构顺序" class="headerlink" title="2.4.8.4 构造和析构顺序"></a>2.4.8.4 构造和析构顺序</h4><p>子类继承父类，</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BasePage</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">BasePage</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;父类构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">BasePage</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;父类析构函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Page1</span> : <span class="keyword">public</span> BasePage</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Page1</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;子类构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Page1</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;子类析构函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Page1 p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先调用父类的构造函数，再调用子类的构造函数</p>
<p>先调用子类的析构函数，再调用父类的析构函数</p>
<p><img src="/2024/02/29/C/image-20240303195651224.png" alt="image-20240303195651224"></p>
<h4 id="2-4-8-5-同名成员处理方式"><a href="#2-4-8-5-同名成员处理方式" class="headerlink" title="2.4.8.5 同名成员处理方式"></a>2.4.8.5 同名成员处理方式</h4><ul>
<li>访问子类中的同名成员：直接访问即可</li>
<li>访问父类中的同名成员：需要添加作用域</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BasePage</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string str=<span class="string">&quot;父类&quot;</span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;同名成员函数：父类&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Page1</span> : <span class="keyword">public</span> BasePage</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	string str=<span class="string">&quot;子类&quot;</span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;同名成员函数：子类&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Page1 p;</span><br><span class="line">	cout &lt;&lt; p.str &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; p.BasePage::str &lt;&lt; endl;<span class="comment">//父类作用域</span></span><br><span class="line">	p.<span class="built_in">func</span>();</span><br><span class="line">	p.BasePage::<span class="built_in">func</span>();<span class="comment">//父类作用域访问同名成员函数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-8-6-多继承语法"><a href="#2-4-8-6-多继承语法" class="headerlink" title="2.4.8.6 多继承语法"></a>2.4.8.6 多继承语法</h4><p>语法：<code>`class 子类 : 继承方式 父类1, 继承方式 父类2 ...</code></p>
<p>多继承可能会引发父类中同名成员的出现，需要加作用域进行区分，</p>
<p><strong>C++实际开发中不建议用多继承</strong></p>
<h4 id="2-4-8-7-菱形继承-虚继承"><a href="#2-4-8-7-菱形继承-虚继承" class="headerlink" title="2.4.8.7 菱形继承/虚继承"></a>2.4.8.7 菱形继承/虚继承</h4><p>两个类继承于同一个父类，又有某个类同时集成于这两个类</p>
<p><img src="/2024/02/29/C/c32a9478f218278aacca70b56bcb83bf.jpeg" alt="img"></p>
<p>由上图可知，羊驼继承了动物的数据两次，我们真实情况只需要一个数据就行</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sheep</span> : <span class="keyword">public</span> Animal&#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Tuo</span> : <span class="keyword">public</span> Animal&#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SheepTuo</span> : <span class="keyword">public</span> Sheep, <span class="keyword">public</span> Tuo&#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	SheepTuo st;</span><br><span class="line">	st.Sheep::m_Age = <span class="number">18</span>;</span><br><span class="line">	st.Tuo::m_Age = <span class="number">28</span>;<span class="comment">//会出现两个情况</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>虚继承即可解决</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> m_Age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sheep</span> :<span class="keyword">virtual</span> <span class="keyword">public</span> Animal&#123;&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Tuo</span> :<span class="keyword">virtual</span> <span class="keyword">public</span> Animal&#123;&#125;;<span class="comment">//利用virtual关键字实现虚继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SheepTuo</span> : <span class="keyword">public</span> Sheep, <span class="keyword">public</span> Tuo&#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	SheepTuo st;</span><br><span class="line">	st.Sheep::m_Age = <span class="number">18</span>;<span class="comment">//此时不管访问Sheep还是Tuo都是18</span></span><br><span class="line">    st.Tuo::m_Age = <span class="number">28</span>;<span class="comment">//此时不管访问Sheep还是Tuo都是28</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-9-多态"><a href="#2-4-9-多态" class="headerlink" title="2.4.9 多态"></a>2.4.9 多态</h3><ul>
<li>静态多态：函数重载 和 运算符重载</li>
<li>动态多态： 子类和虚函数实现运行时的多态</li>
</ul>
<p>静态多态和动态多态的区别：</p>
<ul>
<li>静态多态：编译阶段确定函数地址（早绑定）</li>
<li>动态多态：运行阶段确定函数地址（晚绑定）</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;动物正在说话&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> : <span class="keyword">public</span> Animal&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;小猫在说话&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//地址进行了早绑定，在编译阶段确定了函数地址，</span></span><br><span class="line"><span class="comment">//输出内容为：“动物在说话”</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">doSpeak</span><span class="params">(Animal &amp; animal)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	animal.<span class="built_in">speak</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Cat cat;</span><br><span class="line">	<span class="built_in">doSpeak</span>(cat);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">speak</span><span class="params">()</span><span class="comment">//通过virtual，虚函数实现动态多态</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;动物正在说话&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> : <span class="keyword">public</span> Animal&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;小猫在说话&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//此时输出“小猫在说话”</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">doSpeak</span><span class="params">(Animal &amp; animal)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	animal.<span class="built_in">speak</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Cat cat;</span><br><span class="line">	<span class="built_in">doSpeak</span>(cat);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>动态多态满足条件：</strong></p>
<ol>
<li>有继承关系</li>
<li>子类要重写父类的虚函数</li>
</ol>
<p>重写：函数名、参数、返回值类型都必须相同。</p>
<p>重载：函数名相同，参数、返回值类型可能不同。</p>
<h4 id="2-4-9-1多态的原理剖析"><a href="#2-4-9-1多态的原理剖析" class="headerlink" title="2.4.9.1多态的原理剖析"></a>2.4.9.1多态的原理剖析</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">doSpeak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;动物正在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">此时<span class="built_in">sizeof</span>(Animal)为<span class="number">1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="keyword">virtual</span> <span class="title">doSpeak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;动物正在说话&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">此时的<span class="built_in">sizeof</span>(Animal)为<span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>4个字节的原因是指针占用。</p>
<p><code>virtual</code>关键字会形成一个<code>vfptr</code>指针（<strong>虚函数表指针</strong>）virtual function pointer</p>
<p><img src="/2024/02/29/C/image-20240304194459436.png" alt="image-20240304194459436"></p>
<p>当子类继承时，会重写doSpeak函数，vfptr的指针指向的地址就会发生改变。</p>
<p><img src="/2024/02/29/C/image-20240304195120122.png" alt="image-20240304195120122"></p>
<p>在每次调用时候，会直接调用当前类的函数，所以可以实现多态。</p>
<h4 id="2-4-9-2-纯虚函数和抽象类"><a href="#2-4-9-2-纯虚函数和抽象类" class="headerlink" title="2.4.9.2 纯虚函数和抽象类"></a>2.4.9.2 纯虚函数和抽象类</h4><p>通常发生多态后，父类中的函数就没什么意义，主要是用于调用子类重写内容，</p>
<p>因此可以将虚函数改为<strong>纯虚函数</strong></p>
<p>语法：<code>virtual 返回值类型 函数名 (参数列表) = 0;</code></p>
<p>当类中有了纯虚函数，这个类就称为<strong>抽象类</strong>。</p>
<p><strong>抽象类特点：</strong>无法实例化对象，子类必须重写抽象类中的纯虚函数，否则也属于抽象类</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;<span class="comment">//抽象类</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">doSpeak</span><span class="params">()</span> </span>= <span class="number">0</span>;<span class="comment">//纯虚函数</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> : <span class="keyword">public</span> Animal&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">doSpeak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;小猫在说话&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="2-4-9-3-虚析构和纯虚析构"><a href="#2-4-9-3-虚析构和纯虚析构" class="headerlink" title="2.4.9.3 虚析构和纯虚析构"></a>2.4.9.3 虚析构和纯虚析构</h4><p>多态使用时，如果子类中有开辟到堆区的数据，父类指针在释放时无法调用到子类的析构代码</p>
<p>父类指针在进行析构的时候，不会调用子类中的析构函数，导致子类的堆区数据，出现内存泄漏。</p>
<p>采用 <strong>虚析构</strong> 和 <strong>纯虚析构</strong> 即可解决。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//虚析构</span></span><br><span class="line"><span class="keyword">virtual</span> ~类名()&#123;</span><br><span class="line">    <span class="comment">//虚析构实现</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//纯虚析构，属于抽象类</span></span><br><span class="line"><span class="keyword">virtual</span> ~类名() = <span class="number">0</span>; </span><br><span class="line"><span class="comment">/*全局作用域*/</span></span><br><span class="line">Animal::~<span class="built_in">Animal</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//纯虚析构实现</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-5文件操作"><a href="#2-5文件操作" class="headerlink" title="2.5文件操作"></a>2.5文件操作</h2><p>C++对文件操作需要包含头文件<strong><code>&lt;fstream&gt;</code></strong></p>
<p>文本文件以<strong>ASCII码</strong>形式存储在计算机中，二进制文件以<strong>二进制</strong>形式存储</p>
<p>三大类：</p>
<ul>
<li>ofstream：写操作</li>
<li>ifstream：读操作</li>
<li>fstream：读写操作</li>
</ul>
<h3 id="2-5-1-文本文件"><a href="#2-5-1-文本文件" class="headerlink" title="2.5.1 文本文件"></a>2.5.1 文本文件</h3><p><strong>打开方式：</strong></p>
<p><img src="/2024/02/29/C/image-20240304204659205.png" alt="image-20240304204659205"></p>
<h4 id="2-5-1-1-写文件"><a href="#2-5-1-1-写文件" class="headerlink" title="2.5.1.1 写文件"></a>2.5.1.1 写文件</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ofstream ofs;</span><br><span class="line">    ofs.<span class="built_in">open</span>(<span class="string">&quot;文件路径&quot;</span>, ios::out);</span><br><span class="line">    ofs &lt;&lt; <span class="string">&quot;写入的数据&quot;</span>;</span><br><span class="line">    ofs.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>文件打开方式可以配合使用，如<code>ios::out | ios::binary</code>就是以二进制形式写出</p>
<h4 id="2-5-1-2-读文件"><a href="#2-5-1-2-读文件" class="headerlink" title="2.5.1.2 读文件"></a>2.5.1.2 读文件</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ifsteam ifs;</span><br><span class="line">    ifs.<span class="built_in">open</span>(<span class="string">&quot;文件路径&quot;</span>, ios::in);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(!ifs.<span class="built_in">isopen</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;文件打开失败&quot;</span>&lt;&lt;endl;</span><br><span class="line">    	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//读数据</span></span><br><span class="line">    </span><br><span class="line">    ifs.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>读数据：</strong></p>
<p>方法一：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> buf[<span class="number">1024</span>] = &#123;<span class="number">0</span>&#125;;<span class="comment">//可以用string</span></span><br><span class="line"><span class="keyword">while</span>( ifs &gt;&gt; buf )</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; buf &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法二：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> buf[<span class="number">1024</span>] = &#123;<span class="number">0</span>&#125;;<span class="comment">//可以用string</span></span><br><span class="line"><span class="keyword">while</span>( ifs.<span class="built_in">getline</span>(buf),<span class="number">1024</span> )<span class="comment">//或者用sizeof</span></span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; buf &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法三：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">string buf;</span><br><span class="line"><span class="keyword">while</span>( <span class="built_in">getline</span>(ifs, buf))</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; buf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法四：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> c;</span><br><span class="line"><span class="keyword">while</span>( (c=ifs.<span class="built_in">get</span>()) != EOF )</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>总结</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ofstream ofs;</span><br><span class="line">	ofs.<span class="built_in">open</span>(<span class="string">&quot;test.txt&quot;</span>, ios::out);</span><br><span class="line">	ofs &lt;&lt; <span class="string">&quot;张三&quot;</span> &lt;&lt; endl;</span><br><span class="line">	ofs &lt;&lt; <span class="string">&quot;18岁&quot;</span> &lt;&lt; endl;</span><br><span class="line">	ofs &lt;&lt; <span class="string">&quot;男&quot;</span> &lt;&lt; endl;</span><br><span class="line">	ofs.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">	ifstream ifs;</span><br><span class="line">	ifs.<span class="built_in">open</span>(<span class="string">&quot;test.txt&quot;</span>, ios::in);</span><br><span class="line">	<span class="keyword">if</span> (!ifs.<span class="built_in">is_open</span>())<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	string str;</span><br><span class="line">	<span class="keyword">while</span> ( ifs&gt;&gt;str )</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; str&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">    ifs.<span class="built_in">close</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-5-2-二进制文件"><a href="#2-5-2-二进制文件" class="headerlink" title="2.5.2 二进制文件"></a>2.5.2 二进制文件</h3><p>打开方式需要添加<code>ios::binary</code></p>
<h4 id="2-5-2-1-写文件"><a href="#2-5-2-1-写文件" class="headerlink" title="2.5.2.1 写文件"></a>2.5.2.1 写文件</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Person p = &#123;<span class="string">&quot;张三&quot;</span>,<span class="number">18</span>&#125;;<span class="comment">//列表初始化，等效于p(&quot;张三&quot;,18)</span></span><br><span class="line">ofstream ofs;</span><br><span class="line">ofs.<span class="built_in">open</span>(<span class="string">&quot;文件地址&quot;</span>, ios::binary | ios::out);</span><br><span class="line">ofs.<span class="built_in">write</span>((<span class="type">const</span> <span class="type">char</span>*)p, <span class="built_in">sizeof</span>(Person));</span><br><span class="line">ofs.<span class="built_in">close</span>();</span><br></pre></td></tr></table></figure>
<h4 id="2-5-2-1-读文件"><a href="#2-5-2-1-读文件" class="headerlink" title="2.5.2.1 读文件"></a>2.5.2.1 读文件</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Person p;</span><br><span class="line">ifstream ifs;</span><br><span class="line">ifs.<span class="built_in">open</span>(<span class="string">&quot;文件地址&quot;</span>, ios::binary | ios::in);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!ifs.<span class="built_in">is_open</span>())<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">ifs.<span class="built_in">read</span>((<span class="type">const</span> <span class="type">char</span>*)p, <span class="built_in">sizeof</span>(Person));</span><br><span class="line">ifs.<span class="built_in">close</span>();</span><br></pre></td></tr></table></figure>
<h2 id="2-6-模板"><a href="#2-6-模板" class="headerlink" title="2.6 模板"></a>2.6 模板</h2><h3 id="2-6-1基本语法"><a href="#2-6-1基本语法" class="headerlink" title="2.6.1基本语法"></a>2.6.1基本语法</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">swapInt</span><span class="params">(<span class="type">int</span> &amp;a, <span class="type">int</span> &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swapDouble</span><span class="params">(<span class="type">double</span> &amp;a, <span class="type">double</span> &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">double</span> temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>数据类型不同，但是代码逻辑是相同的，采用模板可以改写为</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;<span class="comment">//声明一个模板，告诉编译器后面的T是一个通用的数据类型</span></span><br><span class="line"><span class="comment">//typename可以用class代替</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Myswap</span><span class="params">(T &amp;a, T &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">10</span>,b=<span class="number">20</span>;</span><br><span class="line">    <span class="built_in">Myswap</span>(a,b);<span class="comment">//自动类型推导</span></span><br><span class="line">    <span class="built_in">Myswap</span>&lt;<span class="type">int</span>&gt;(a,b);<span class="comment">//手动指定数据类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>模板必须要确定出T的数据类型才能正常使用</strong></p>
<p>案例：选择排序</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Swap_element</span><span class="params">(T &amp;a,T &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	T temp;</span><br><span class="line">	temp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SelectSort</span><span class="params">(T &amp;arr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> len = <span class="built_in">sizeof</span>(arr) / <span class="built_in">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> maxFlag = i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; len; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (arr[j] &gt; arr[maxFlag])</span><br><span class="line">			&#123;</span><br><span class="line">				maxFlag = j;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (maxFlag != i)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">Swap_element</span>(arr[maxFlag], arr[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> a[] = &#123; <span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">10</span> &#125;;</span><br><span class="line">	<span class="built_in">SelectSort</span>(a);</span><br><span class="line">	<span class="type">char</span> str[] = <span class="string">&quot;gfbseqa&quot;</span>;</span><br><span class="line">	<span class="built_in">SelectSort</span>(str);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-6-2-普通函数与函数模板的区别"><a href="#2-6-2-普通函数与函数模板的区别" class="headerlink" title="2.6.2 普通函数与函数模板的区别"></a>2.6.2 普通函数与函数模板的区别</h3><p>普通函数可以发生隐式类型转换</p>
<p>函数模板(自动类型推导)，不可以发生隐式类型转换</p>
<p>函数模板(手动指定类型)，可以发生隐式类型转换</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Add_pt</span><span class="params">(<span class="type">int</span> &amp;a,<span class="type">int</span> &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function">T <span class="title">Add_mb</span><span class="params">(T &amp;a, T &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">1</span>,b=<span class="number">2</span>;</span><br><span class="line">    <span class="type">char</span> c=<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">Add_pt</span>(a,c);<span class="comment">//普通函数隐式类型转换，将c转为了int类型</span></span><br><span class="line">    <span class="built_in">Add_mb</span>(a,c);<span class="comment">//此处会报错，自动推导</span></span><br><span class="line">    <span class="built_in">add_mb</span>&lt;<span class="type">int</span>&gt;(a,c);<span class="comment">//隐式类型转换</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-6-3-普通函数和函数模板调用规则"><a href="#2-6-3-普通函数和函数模板调用规则" class="headerlink" title="2.6.3 普通函数和函数模板调用规则"></a>2.6.3 普通函数和函数模板调用规则</h3><ul>
<li>如果普通函数和函数模板都可以实现，优先调用<strong>普通函数</strong></li>
<li>可以通过<strong>空模板参数列表</strong>来强制调用函数模板</li>
<li>函数模板页也可以发生重载</li>
<li>如果函数模板产生更好的匹配，优先调用函数模板</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;调用普通函数&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(T a,T b)</span></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;调用模板函数&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">(T a,T b,T c)</span></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;调用重载的函数模板&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">Print</span>(<span class="number">1</span>,<span class="number">1</span>);<span class="comment">//优先调用普通函数</span></span><br><span class="line">    Print&lt;&gt;(<span class="number">1</span>,<span class="number">1</span>);<span class="comment">//强制调用函数模板</span></span><br><span class="line">    <span class="built_in">Print</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>);<span class="comment">//调用重载函数模板</span></span><br><span class="line">    <span class="built_in">Print</span>(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">    <span class="comment">//会优先调用函数模板，产生了更好的匹配，不需要进行类型转换(char-&gt;int)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-6-4-模板局限性"><a href="#2-6-4-模板局限性" class="headerlink" title="2.6.4 模板局限性"></a>2.6.4 模板局限性</h3><p>模板并不是万能的，如果传入 a和b是一个数组，模板就无法实现</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(T a, T b)</span></span>&#123;</span><br><span class="line">	a = b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果传入的是像Person这样的自定义数据类型，也无法正常运行</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">f</span><span class="params">(T a,T b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(a &gt; b)&#123;.....&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>解决方法：</strong>1.运算符重载、2.具体化Person</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;&gt; <span class="function"><span class="type">bool</span> <span class="title">f</span><span class="params">(Person &amp;p1, Person &amp;p2)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(p1.m_Name==p2.m_Name)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-6-5-类模板"><a href="#2-6-5-类模板" class="headerlink" title="2.6.5 类模板"></a>2.6.5 类模板</h3><p>类模板中的成员函数只有在<strong>调用时候</strong>才会进行创建，普通类中的成员函数在一开始就创建在代码区</p>
<h4 id="2-6-5-1-基本语法"><a href="#2-6-5-1-基本语法" class="headerlink" title="2.6.5.1 基本语法"></a>2.6.5.1 基本语法</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> NameType,<span class="keyword">typename</span> AgeType&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	NameType m_Name;</span><br><span class="line">	AgeType m_Age;</span><br><span class="line">	<span class="built_in">Person</span>(NameType name, AgeType age)&#123;</span><br><span class="line">		m_Name = name;</span><br><span class="line">		m_Age = age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;	</span><br><span class="line">	<span class="function">Person&lt;string,<span class="type">int</span>&gt; <span class="title">p</span><span class="params">(<span class="string">&quot;vicczyq&quot;</span>,<span class="number">18</span>)</span></span>;<span class="comment">//必须手动指定类型</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-6-5-2-类模板和函数模板的区别"><a href="#2-6-5-2-类模板和函数模板的区别" class="headerlink" title="2.6.5.2 类模板和函数模板的区别"></a>2.6.5.2 类模板和函数模板的区别</h4><ol>
<li>类模板没有自动类型推导的使用方式</li>
<li>类模板在木板参数列表中可以有<strong>默认参数</strong></li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> NameType, <span class="keyword">typename</span> AgeType =<span class="type">int</span>&gt;</span><br><span class="line"><span class="keyword">class</span> Person&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NameType m_Name;</span><br><span class="line">    AgeType	 m_Age;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="2-6-5-3-类模板对象作函数参数"><a href="#2-6-5-3-类模板对象作函数参数" class="headerlink" title="2.6.5.3 类模板对象作函数参数"></a>2.6.5.3 类模板对象作函数参数</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> NameType, <span class="keyword">typename</span> AgeType&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NameType m_Name;</span><br><span class="line">    AgeType	 m_Age;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>指定传入类型    —直接指定对象的数据类型</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">printPerson</span><span class="params">(Person&lt;string,<span class="type">int</span>&gt; &amp;p)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">Person&lt;string,<span class="type">int</span>&gt; <span class="title">p</span><span class="params">(<span class="string">&quot;vicczyq&quot;</span>,<span class="number">18</span>)</span></span>;</span><br><span class="line">    <span class="built_in">printPerson</span>(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>参数模板化        —将对象中的参数变为模板进行传递</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printPerson</span><span class="params">(Person&lt;T1,T2&gt; &amp;p)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">Person&lt;string,<span class="type">int</span>&gt; <span class="title">p</span><span class="params">(<span class="string">&quot;vicczyq&quot;</span>,<span class="number">18</span>)</span></span>;</span><br><span class="line">    <span class="built_in">printPerson</span>(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>整个类模板化    —将这个对象类型模板化进行传递</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printPerson</span><span class="params">(T &amp;p)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person&lt;string,<span class="type">int</span>&gt; <span class="title">p</span><span class="params">(<span class="string">&quot;vicczyq&quot;</span>,<span class="number">18</span>)</span></span>;</span><br><span class="line">    <span class="built_in">printPerson</span>(p);<span class="comment">//利用模板函数自动类型推导</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-6-5-4-类模板继承"><a href="#2-6-5-4-类模板继承" class="headerlink" title="2.6.5.4 类模板继承"></a>2.6.5.4 类模板继承</h4><p>当父类是一个类模板时，子类继承需要指出父类中的数据类型</p>
<p>如果想灵活使用数据类型，子类也必须为类模板</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> NameType,<span class="keyword">typename</span> AgeType&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    NameType m_Name;</span><br><span class="line">    AgeType m_Age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> : <span class="keyword">public</span> Person&lt;string,<span class="type">int</span>&gt;&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2, <span class="keyword">typename</span> T3&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> : <span class="keyword">public</span> Person&lt;T1,T2&gt;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    T3 sex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-6-5-5-类模板成员函数类外实现"><a href="#2-6-5-5-类模板成员函数类外实现" class="headerlink" title="2.6.5.5 类模板成员函数类外实现"></a>2.6.5.5 类模板成员函数类外实现</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> NameType&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	NameType m_Name;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">getName</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="built_in">Person</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">T Person&lt;T&gt;::<span class="built_in">getName</span>()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> m_Name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">Person&lt;T&gt;::<span class="built_in">Person</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-6-5-6-类模板份文件编写"><a href="#2-6-5-6-类模板份文件编写" class="headerlink" title="2.6.5.6 类模板份文件编写"></a>2.6.5.6 类模板份文件编写</h4><p>由于类模板中成员函数创建时机是在调用阶段，导致份文件编写时候无法链接。</p>
<p><strong>解决方法：</strong></p>
<ul>
<li>解决方法1：直接包含cpp源文件</li>
</ul>
<p>person.h</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> NameType&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	NameType m_Name;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">getName</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="built_in">Person</span>();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>person.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;person.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">T Person&lt;T&gt;::<span class="built_in">getName</span>()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> m_Name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">Person&lt;T&gt;::<span class="built_in">Person</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>main函数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;person.cpp&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Person&lt;string&gt; p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>解决方法2：将声明和实现写到同一个文件中，并更改后缀名为<code>.hpp</code>（.hpp只是约定名称，不是强制限制）相当于直接写在了.h文件中</li>
</ul>
<p>main函数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;person.hpp&quot;</span></span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Person&lt;string&gt; p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>person.hpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> NameType&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	NameType m_Name;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">getName</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="built_in">Person</span>();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">T Person&lt;T&gt;::<span class="built_in">getName</span>()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> m_Name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">Person&lt;T&gt;::<span class="built_in">Person</span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    

<p id="hitokoto">加载中...</p>

<script>
    fetch('https://tenapi.cn/v2/yiyan')
        .then(response => response.text())
        .then(text => {
            document.getElementById('hitokoto').innerText = text;
        })
        .catch(error => {
            console.error('请求失败:', error);
        });
</script>
 <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
 </p>
</footer>




<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<!-- <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> -->






</html>
